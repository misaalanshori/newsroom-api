# Casbin Policy Configuration (Documentation Only)
# Actual policies are stored in database (casbin_rules table)

# --- ROLE HIERARCHY ---
# Format: g, child_role, parent_role
g, super-admin, admin
g, admin, editor
g, editor, reader

# --- ACTIONS ---
# create: POST (new resource)
# read: GET (view resource)
# update: PUT/PATCH (modify resource)
# delete: DELETE (remove resource)
# update:sensitive: Modify roleId, departmentId (User only)

# --- NEWS PERMISSIONS ---
# Format: p, role, resource, scope, ownership, action
p, reader,      news,   global,     any,    read

p, editor,      news,   department, own,    create
p, editor,      news,   department, own,    update

p, admin,       news,   department, any,    create
p, admin,       news,   department, any,    update
p, admin,       news,   department, any,    delete

p, super-admin, news,   global,     any,    create
p, super-admin, news,   global,     any,    update
p, super-admin, news,   global,     any,    delete

# --- DEPARTMENT PERMISSIONS ---
p, reader,      department, global, any,    read

p, super-admin, department, global, any,    create
p, super-admin, department, global, any,    update
p, super-admin, department, global, any,    delete

# --- USER PERMISSIONS ---
p, reader,      user,   global,     own,    read
p, reader,      user,   global,     own,    update

p, super-admin, user,   global,     any,    create
p, super-admin, user,   global,     any,    read
p, super-admin, user,   global,     any,    update
p, super-admin, user,   global,     any,    delete
p, super-admin, user,   global,     any,    update:sensitive

# --- ROLE PERMISSIONS ---
p, super-admin, role,   global,     any,    read
p, super-admin, role,   global,     any,    create
p, super-admin, role,   global,     any,    update
p, super-admin, role,   global,     any,    delete

# --- POLICY PERMISSIONS ---
p, super-admin, policy, global,     any,    read
p, super-admin, policy, global,     any,    create
p, super-admin, policy, global,     any,    delete
